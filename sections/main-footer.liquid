{{ 'footer.css' | asset_url | stylesheet_tag }}

  <div class="footer-wrapper-sec section-{{ section.id }}-padding   color-{{ section.settings.section_color_scheme }}">
  <div class="page-width">
    {%- comment -%} ====== 1ª LINHA – LOGO E MENUS ====== {%- endcomment -%}
    <div class="footer-row footer-row--logo-menus">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'logo' %}
            {% if block.settings.logo_image != blank %}
              <div class="footer-logo">
                <img
                  src="{{ block.settings.logo_image | img_url: block.settings.logo_size | escape }}"
                  alt="{{ shop.name | escape }}"
                  width="{{  block.settings.logo_image.width }}"
                  loading="lazy"
                  height="{{  block.settings.logo_image.height }}"
                  style="max-width:{{ block.settings.logo_size }}px;">
              </div>
            {% endif %}
          {% when 'menu' %}
            {% if block.settings.menu_links != blank %}
              <div class="link-list-footer">
                <div class="title-footer">
                  <p>
                    {{ block.settings.heading }}
                  </p>
                  <div class="svg-wrapper small mobile">
                    {{- 'arrow-d-w.svg' | inline_asset_content -}}
                  </div>
                </div>
                <ul class="wrapper-links">
                  {%- for link in block.settings.menu_links.links -%}
                    <li>
                      <a
                        href="{{ link.url }}"
                        class="link-footer"
                        alt="{{ link.title }}"
                        title="{{ link.title }}">
                        {{ link.title }}
                      </a>
                    </li>
                  {%- endfor -%}
                </ul>
              </div>
            {% endif %}
        {% endcase %}
      {% endfor %}
    </div>

    {%- comment -%} ====== 2ª LINHA – PAGAMENTOS e SELOS ====== {%- endcomment -%}
    <div class="footer-row footer-row--payments-security">
      {% assign payment_blocks = section.blocks | where: 'type', 'payment_icons' %}
      {% assign security_blocks = section.blocks | where: 'type', 'security_badge' %}

      {% if payment_blocks.size > 0 %}
        <div class="footer-payments">
          <p class="footer-title">Formas de Pagamento</p>
          <div class="footer-images-wrapper">
            {% for block in payment_blocks %}
              {% if block.settings.payment_image != blank %}
                <img
                  src="{{ block.settings.payment_image | img_url: '200x' }}"
                  alt="Forma de pagamento"
                  loading="lazy"
                  width="{{ block.settings.payment_image.width  }}"
                  height="{{ block.settings.payment_image.height  }}">
              {% endif %}
            {% endfor %}
          </div>
        </div>
      {% endif %}

      {% if security_blocks.size > 0 %}
        <div class="footer-security">
          <p class="footer-title">Segurança</p>
          <div class="footer-images-wrapper">
            {% for block in security_blocks %}
              {% if block.settings.security_image != blank %}
                <img
                  src="{{ block.settings.security_image | img_url: '200x' }}"
                  alt="Selo de segurança"
                  loading="lazy"
                  width="{{ block.settings.payment_image.width  }}"
                  height="{{ block.settings.payment_image.height  }}">
              {% endif %}
            {% endfor %}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
  {%- comment -%} ====== 3ª LINHA – TEXTO EXTRA ====== {%- endcomment -%}
  {% if section.settings.extra_text != blank %}
    <div class="footer-row footer-row--extra-text">
      <div class="page-width">
        <div class="footer-extra-text">
          {{ section.settings.extra_text }}
        </div>
      </div>
    </div>
  {% endif %}

  {%- comment -%} ====== 4ª LINHA – COPYRIGHT ====== {%- endcomment -%}
  {% if section.settings.copyright != blank %}
    <div class="footer-row footer-row--copyright">
      <div class="page-width">
        <div class="wrapper">
          <p class="footer-copyright">
            {{ section.settings.copyright }}
          </p>
          <div class="resultate">
            <p>Tecnologia:</p>
            <a href="https://resultate.com.br/" title="Tecnologia Resultate">
              <div class="svg-wrapper big">
                {{- 'result-logo.svg' | inline_asset_content -}}
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  {% endif %}
</div>

{% javascript %}
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".link-list-footer").forEach((el) => {
      el.addEventListener("click", function() {
        if (el.classList.contains("active")) {
          el.classList.remove("active");
        } else {
          el.classList.add("active");
        }
      });
    });
  });
{% endjavascript %}

{% schema %}
  {
    "name": "Footer",
    "tag": "footer",
    "class": "footer-section",
    "settings": [
      {
        "type": "color_scheme",
        "id": "section_color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "scheme-1"
      },
      {
        "type": "richtext",
        "id": "extra_text",
        "label": "Texto extra do footer"
      },
      {
        "type": "text",
        "id": "copyright",
        "label": "Copyright",
        "default": "© – Todos os direitos reservados."
      },
      {
        "type": "header",
        "content": "t:sections.all.padding.section_padding_heading"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_top",
        "default": 36
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_bottom",
        "default": 36
      }
    ],
    "blocks": [
      {
        "type": "logo",
        "name": "Logo",
        "settings": [
          {
            "type": "image_picker",
            "id": "logo_image",
            "label": "Logo"
          }, {
            "type": "range",
            "id": "logo_size",
            "min": 50,
            "max": 300,
            "step": 10,
            "unit": "px",
            "label": "Tamanho da logo",
            "default": 150
          }
        ]
      }, {
        "type": "menu",
        "name": "Menu",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "Titulo",
            "default": "Titulo"
          }, {
            "type": "link_list",
            "id": "menu_links",
            "label": "Menu de links"
          }
        ]
      }, {
        "type": "payment_icons",
        "name": "Formas de pagamento",
        "settings": [
          {
            "type": "image_picker",
            "id": "payment_image",
            "label": "Imagem de forma de pagamento"
          }
        ]
      }, {
        "type": "security_badge",
        "name": "Selos de segurança",
        "settings": [
          {
            "type": "image_picker",
            "id": "security_image",
            "label": "Imagem do selo de segurança"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Footer"
      }
    ]
  }
{% endschema %}