{% style %}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_top }}px;
  }
  @media (max-width: 768px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top | times: 0.55 |  round }}px;
      padding-bottom: {{ section.settings.padding_top | times: 0.55 | round }}px;
    }
  }
{% endstyle %}

<div class="section-{{ section.id }}-padding header color-{{ section.settings.section_color_scheme }}">
  <div class="{% if section.settings.full_w %} page-width-full{% else %}page-width{% endif %}">
    <div class="wrapper-header">
      {% render 'header-menu-mob' %}
      <div class="logo" style="max-width: {{ settings.logo_width }}px">
        {%- if request.page_type == 'index' -%}
          <h1 class="header__heading">
        {%- endif -%}
        <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
          {%- if settings.logo != blank -%}
            <div class="header__heading-logo-wrapper">
              {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
              {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
              {% capture sizes %}(max-width: {{ settings.logo_width | times: 2 }}px) 50vw, {{ settings.logo_width }}px{% endcapture %}
              {% capture widths %}{{ settings.logo_width }}, {{ settings.logo_width | times: 1.5 | round }}, {{ settings.logo_width | times: 2 }}{% endcapture %}
              {{ settings.logo
 | image_url: width: 600
 | image_tag:
 class: 'header__heading-logo motion-reduce',
 height: settings.logo.height,
 width: settings.logo_width,
 alt: 'Logo',
 preload: true
              }}
            </div>
          {%- else -%}
            <span class="h2">{{ shop.name }}</span>
          {%- endif -%}
        </a>
        {%- if request.page_type == 'index' -%}
          </h1>
        {%- endif -%}
      </div>
      <div class="search-area">
        {% render 'header-search'
          , input_id: 'Search-In-Modal-1' %}
      </div>
      <div class="user-actions">
        <div class="revendedor">
          <a
            title="Seja um revendedor"
            class="button button-secondary"
            href="#">
            Seja um revendedor
          </a>
        </div>
        <div class="login">
          <div class="svg-wrapper big">
            {{- 'user-ico.svg' | inline_asset_content -}}
          </div>
          <a
            href="#"
            class="login-link"
            title="
              {%  if customer %}
                Ola, {{ customer.name }}
                {% else %}
                Entre ou cadastre-se
              {% endif %}
            ">
            {% if customer %}
              {% assign name_split = customer.name | split: '' %}
              Olá, {{ name_split[0] }}
            {% else %}
              <strong>Entre
              </strong>ou<br>
              <strong>Cadastre-se</strong>
            {% endif %}
          </a>
        </div>
        <div class="wish-list">
          <a
            href="/wishlist"
            class="svg-wrapper big"
            title="Lista de desejos">
            {{- 'heart-ico.svg' | inline_asset_content -}}
          </a>
        </div>
        <open-drawer class="minicart">
          <div class="header__icon header__icon--cart link focus-inset" id="cart-icon-bubble">
            {% if cart == empty %}
              <span class="svg-wrapper big">{{ 'cart-ico.svg' | inline_asset_content }}</span>
            {% else %}
              <span class="svg-wrapper big">{{ 'cart-ico.svg' | inline_asset_content }}</span>
            {% endif %}

            <div class="cart-count-bubble">

              <span class="cart-count-span">{{ cart.item_count }}{%- if cart.item_count > 99 -%}+
                {%- endif -%}
              </span>

              <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
            </div>
          </div>
        </open-drawer>
      </div>
    </div>
  </div>
</div>
<div class="wrapper-menu-categories desktop">
  {% render 'menu-departments'
    , menu: section.settings.menu.links %}
</div>

<script src="{{ 'header.js' | asset_url }}" defer></script>

{% schema %}
  {
    "name": "Header",
    "tag": "header",
    "class": "header",
    "settings": [
      {
        "type": "checkbox",
        "id": "full_w",
        "label": "Tamanho máximo da tela",
        "default": false
      },
      {
        "type": "link_list",
        "id": "menu",
        "default": "main-menu",
        "label": "t:sections.header.settings.menu.label"
      },
      {
        "type": "header",
        "content": "Cores"
      },
      {
        "type": "color_scheme",
        "id": "section_color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "scheme-1"
      }, {
        "type": "header",
        "content": "t:sections.all.padding.section_padding_heading"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_top",
        "default": 36
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_bottom",
        "default": 36
      }
    ]
  }
{% endschema %}